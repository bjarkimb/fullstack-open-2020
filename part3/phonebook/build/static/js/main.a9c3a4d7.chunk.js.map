{"version":3,"sources":["components/Display.js","components/Filter.js","components/PersonForm.js","components/FilterForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Display","person","removePerson","name","number","onClick","id","Filter","query","persons","filterText","map","key","filter","el","toLowerCase","indexOf","PersonForm","AddPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","FilterForm","handleFilter","Notification","message","notificationStyle","color","errorColor","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilterText","errorMessage","setErrorMessage","setErrorColor","useEffect","personService","personData","event","target","preventDefault","str","includes","window","confirm","personObject","find","personUpdate","setTimeout","newPerson","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a9c3a4d7.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Display = ({ person, removePerson }) => {\r\n  return (\r\n    <p>{person.name} {person.number} <button onClick={() => removePerson(person.name,person.id)}>delete</button></p>\r\n  )\r\n}\r\n\r\nexport default Display","import React from 'react'\r\nimport Display from './Display'\r\n\r\n//example from mozilla\r\nconst filterItems = (arr, query) => {\r\n  return arr.filter(el => el.name.toLowerCase().indexOf(query.toLowerCase()) !== -1)\r\n}\r\n\r\n\r\nconst Filter = ({ persons, filterText, removePerson }) => {\r\n  if (filterText === ''){\r\n    return(\r\n      persons.map((person) =>\r\n        <Display key={person.name} person={person} removePerson={removePerson} />\r\n      )\r\n    )\r\n  }\r\n  else {\r\n    const filtList = filterItems(persons,filterText)\r\n    return (\r\n      filtList.map((person) =>\r\n        <Display key={person.name} person={person} removePerson={removePerson} />\r\n      )\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ AddPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n\treturn(\r\n\t\t<form onSubmit={AddPerson}>\r\n        <div>\r\n            name: <input\r\n                value={newName}\r\n                onChange={handleNameChange} \r\n            />\r\n        </div>\r\n        <div>\r\n            number: <input\r\n                value={newNumber}\r\n                onChange={handleNumberChange}\r\n            />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n\t)\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst FilterForm = ({ handleFilter }) => {\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<form>\r\n\t    \t    filter shown with <input \r\n\t            onChange={handleFilter}\r\n\t    \t    />\r\n\t   \t\t</form>\r\n    \t</div>\r\n    )\r\n}\r\n\r\nexport default FilterForm","import React from 'react'\r\n\r\nconst Notification = ({ message, errorColor }) => {\r\n\tconst notificationStyle = {\r\n\t\tcolor: errorColor,\r\n\t\tbackground: 'lightgrey',\r\n\t\tfontSize: 20,\r\n\t\tborderStyle: 'solid',\r\n\t\tborderRadius: 5,\r\n\t\tpadding: 10,\r\n\t\tmarginBottom: 10,\r\n\t}\r\n\r\n \tif (message === null) {\r\n    \treturn null\r\n \t}\r\n\r\n  \treturn (\r\n    \t<div style={notificationStyle}>\r\n      \t\t{message}\r\n    \t</div>\r\n  \t)\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n\tconst request = axios.post(baseUrl, newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport FilterForm from './components/FilterForm'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterText, setFilterText ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ errorColor, setErrorColor ] = useState('green')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(personData =>  {\n        setPersons(personData)\n      })\n  },[])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n  const handleFilter = (event) => {\n    setFilterText(event.target.value)\n  }\n\n  const AddPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.map((str) => str.name).includes(newName)){\n      const changeNumber = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if (changeNumber) {\n\n        const personObject = {\n          name: newName,\n          number: newNumber,\n        }\n\n        personService\n          .update(persons.find(person => person.name === newName).id, personObject)\n          .then(personUpdate => {\n            setPersons(persons.map(person => (\n              person.id === personUpdate.id ? personUpdate : person\n            )))\n            setErrorColor('green')\n            setErrorMessage(`Updated the number of ${newName}`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n        setNewName('')\n        setNewNumber('')\n      }\n      else {\n        setNewName('')\n        setNewNumber('')\n      }\n    }\n    else{\n\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personService\n        .create(personObject)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n          setErrorColor('green')\n          setErrorMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n      \n    }\n  }\n\n  const removePerson = (name, id) => {\n    const removeAlert = window.confirm(`Delete ${name}?`)\n    if (removeAlert){\n      personService\n        .remove(id)\n        .then(() => {\n          setErrorColor('green')\n          setPersons(persons.filter(person => person.id !== id))\n          setErrorMessage(`Removed ${name}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorColor('red')\n          setErrorMessage(\n            `Information of ${name} has already been removed from the server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={errorMessage} errorColor={errorColor} />\n\n      <FilterForm handleFilter={handleFilter} />\n\n      <h2>add a new</h2>\n\n      <PersonForm AddPerson={AddPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n\n      <h2>Numbers</h2>\n      \n      <Filter persons={persons}  filterText={filterText} removePerson={removePerson} />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}